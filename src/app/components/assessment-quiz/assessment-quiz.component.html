<div class="container-fluid">

  <div *ngIf="!testTaken">
    <div class="container">

      <div class="mt-5">
        <h3> {{ assessment?.name }}</h3>
      </div>

      <div class="mt-5" *ngFor="let quizQuestion of assessment?.questions; let i = index;">
        <div class="card">
          <div class="card-body">
          <div class="row">
              <div class="col-9">
                  <p>{{ quizQuestion.question }}</p>
              </div>
              <div class="col-3 align-self-end">
                  <div class="circle-badge float-right" style="background:#90c024">
                      <strong>{{i+1}}</strong>
                    </div>
              </div>
          </div>

            
          </div>
          <div class="list-group list-group-flush">
            <a class="list-group-item list-group-item-action" [ngStyle]="{'background-color': this.isCurrentAnswer(quizQuestion, answer) ? '#ff885b' : ''}"
              *ngFor="let answer of quizQuestion.answers" (click)="fillInQuestion(quizQuestion, answer)">
              <div>
                {{ answer.answer }}
              </div>
            </a>
          </div>
        </div>
      </div>

      <div class="mt-5">
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="col-auto mr-auto">Total questions: {{ assessment?.questions?.length }}</div>
              <div class="col-auto"><button type="submit" class="btn" style="background-color: orangered; color: white"
                  [disabled]="assessment?.questions?.length > filledInQuestions?.length" (click)="postScoreToUser(assessment)">Finish
                  Test</button></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!--<div *ngIf="testTaken">-->
  <!--<div class="container">-->
  <!--<div class="mt-5">-->
  <!--<h3>Assessment complete</h3>-->
  <!--<br>-->
  <!--</div>-->
  <!--<div class="card">-->
  <!--<div class="card-body">-->
  <!--<div class="row">-->
  <!--<div class="col-auto mr-auto">Your score: <h1>{{ percentage }}%</h1></div>-->
  <!--</div>-->
  <!--<div class="row">-->
  <!--<img [src]="imageToDisplay" alt="" class="img-rounded img-responsive">-->
  <!--</div>-->
  <!--<div>-->
  <!--<button class="btn btn-default" style="margin-right: 20px; float: right" (click)="returnToProfile()">Return to profile</button>-->
  <!--</div>-->
  <!--</div>-->
  <!--</div>-->
  <!--</div>-->
  <!--</div>-->

  <div *ngIf="testTaken" class="container-fluid">
    <div class="container" style="margin-bottom: 50px">
      <div class="mt-5">
        <div class="card  text-center">
          <div class="card-body mt-5 mb-3">
            <h1 class="card-title">Assessment completed</h1>
            <p>You have successfully submitted the assessment.</p>
            <p>Your score:</p>
            <div class="progress align center-block" style="max-width: 24rem; margin-left: auto; margin-right:auto; height: 20px;">
              <div class="progress-bar bg-success" role="progressbar" [style.width.%]="percentage" [attr.aria-valuenow]="percentage"
                aria-valuemin="0" aria-valuemax="100">{{ percentage }}%</div>
            </div>
            <a class="btn btn-lg mt-4" style="background-color: orangered; color: white" routerLink="/assessments" role="button">Continue</a>
          </div>
        </div>
      </div>
    </div>
  </div>



</div>
